<form>
                        <!-- Inputs -->
                        <div class="input-group">
                            <input type="text" name="fullName" id="fullName" placeholder="Name">
                            <span class="firstSpan" id="errorText"><!--<i class="fa fa-exclamation-circle"></i>--></span>
                            <span class="secondSpan" id="errorTextMessage"></span>
                        </div>
                        <div class="input-group">
                            <input type="text" name="email" id="email" placeholder="Email">
                            <span class="firstSpan" id="errorEmail"><!--<i class="fa fa-exclamation-circle"></i>--></span>
                            <span class="secondSpan" id="errorEmailMessage"></span>
                        </div>
                        <!-- Text Area -->
                        <div class="comments-group">
                            <textarea name="comments" id="comments" placeholder="How can we help you?"></textarea> 
                            <span class="firstSpanCom" id="errorComments"><!--<i class="fa fa-exclamation-circle"></i>--></span>
                            <span class="secondSpanCom" id="errorCommentsMessage"></span>
                        </div>
                        <!-- Submit Button -->
                        <button type="submit" name="submitButton" name="submitButton">Send Message</button>
                    </form>


let flag;
let fullName, email;
let mailFormat = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

function initVars() {
    fullName = document.getElementById("fullName").value;
    email = document.getElementById("email").value;
    textArea = document.getElementById("comments");
}

function checkName() {
    fullName = document.getElementById("fullName").value;
    if(fullName == "" || fullName == null || fullName.length < 2 || fullName.length > 30) {
        
        flag++;
        document.getElementById("fullName").style.border="2px solid red";
        if(fullName == "" || fullName == null) {
            document.getElementById("errorText").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
            document.getElementById("errorText").style.color="red";
            document.getElementById("errorText").style.backgroundColor="white";

            document.getElementById("errorTextMessage").style.color="red";
            document.getElementById("errorTextMessage").innerHTML = "*Your name is empty!";
        }
        else if(!isNaN(fullName.charAt(0))) {
            document.getElementById("errorText").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
            document.getElementById("errorText").style.color="red";
            document.getElementById("errorText").style.backgroundColor="white";

            document.getElementById("errorTextMessage").style.color="red";
            document.getElementById("errorTextMessage").innerHTML = "*Wrong Name!";
        }
        else {
            document.getElementById("fullName").style.border="2px solid red";
            document.getElementById("errorText").innerHTML = '<i class="fa fa-check-circle"></i>';
            document.getElementById("errorText").style.backgroundColor="white";
            document.getElementById("errorText").style.color="red";
            document.getElementById("errorText").style.fontSize="17px";
    
            document.getElementById("errorTextMessage").style.color="red";
            document.getElementById("errorTextMessage").innerHTML = "*Your name length its small or big!";
        }
    }
    else if(!isNaN(fullName.charAt(0))) {
        document.getElementById("errorText").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
        document.getElementById("errorText").style.color="red"
        document.getElementById("errorText").style.backgroundColor="white";

        document.getElementById("errorTextMessage").style.color="red";
        document.getElementById("errorTextMessage").innerHTML = "*Wrong Name!";
    }
    else {
        document.getElementById("fullName").style.border="2px solid green";
        document.getElementById("errorText").innerHTML = '<i class="fa fa-check-circle"></i>';
        document.getElementById("errorText").style.backgroundColor="white";
        document.getElementById("errorText").style.color="green";
        document.getElementById("errorText").style.fontSize="17px";

        document.getElementById("errorTextMessage").style.color="green";
        document.getElementById("errorTextMessage").innerHTML = "*Your name is valid!";
    }
}

function checkEmail() {
    email = document.getElementById("email").value;
    if( !mailFormat.test(email) || email.length > 50 || email == "" || email == null) {
        flag++;

        document.getElementById("email").style.border="2px solid red";
        document.getElementById("errorEmail").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
        document.getElementById("errorEmail").style.color="red";
        document.getElementById("errorEmail").style.backgroundColor="white";

        document.getElementById("errorEmailMessage").style.color="red";
        document.getElementById("errorEmailMessage").innerHTML = "*The E-mail is not valid!";
    }
    else {
        document.getElementById("email").style.border="2px solid green";
        document.getElementById("errorEmail").innerHTML = '<i class="fa fa-check-circle"></i>';
        document.getElementById("errorEmail").style.backgroundColor="white";
        document.getElementById("errorEmail").style.color="green";
        document.getElementById("errorEmail").style.fontSize="17px";
    
        document.getElementById("errorEmailMessage").style.color="green";
        document.getElementById("errorEmailMessage").innerHTML = "*The E-mail is valid!";
    }
}

function checkTextArea() {
    textArea = document.getElementById("comments").value;
    if(textArea == "" || textArea == null || textArea.length <= 10 || textArea.length > 250) {
        
        flag++;
        document.getElementById("comments").style.border="2px solid red";
        if(textArea == "" || textArea == null ) {
            document.getElementById("errorComments").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
            document.getElementById("errorComments").style.color="red";
            document.getElementById("errorComments").style.backgroundColor="white";
    
            document.getElementById("errorCommentsMessage").style.color="red";
            document.getElementById("errorCommentsMessage").innerHTML = "*Type something!";
        }
        else if (textArea.length <= 2 || textArea.length > 250) {
            if(textArea.length <= 2) {
                document.getElementById("errorComments").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
                document.getElementById("errorComments").style.color="red";
                document.getElementById("errorComments").style.backgroundColor="white";
    
                document.getElementById("errorCommentsMessage").style.color="red";
                document.getElementById("errorCommentsMessage").innerHTML = "*Your comment must be greater than 2 characters!";
            }
            else if(textArea.length > 250) {
                document.getElementById("errorComments").innerHTML = `<i class="fa fa-exclamation-circle"></i>`;
                document.getElementById("errorComments").style.color="red";
                document.getElementById("errorComments").style.backgroundColor="white";
        
                document.getElementById("errorCommentsMessage").style.color="red";
                document.getElementById("errorCommentsMessage").innerHTML = "*Your comment must be lighter than 250 characters!";
            }
            else {
                document.getElementById("comments").style.border="2px solid green";
                document.getElementById("errorComments").innerHTML = '<i class="fa fa-check-circle"></i>';
                document.getElementById("errorComments").style.backgroundColor="white";
                document.getElementById("errorComments").style.color="green";
                document.getElementById("errorComments").style.fontSize="17px";

                document.getElementById("errorCommentsMessage").innerHTML = "";
            }
        }
        else {
            document.getElementById("comments").style.border="2px solid green";
            document.getElementById("errorComments").innerHTML = '<i class="fa fa-check-circle"></i>';
            document.getElementById("errorComments").style.backgroundColor="white";
            document.getElementById("errorComments").style.color="green";
            document.getElementById("errorComments").style.fontSize="17px";

            document.getElementById("errorCommentsMessage").innerHTML = "";
        }
    }
    else {
        document.getElementById("comments").style.border="2px solid green";
        document.getElementById("errorComments").innerHTML = '<i class="fa fa-check-circle"></i>';
        document.getElementById("errorComments").style.backgroundColor="white";
        document.getElementById("errorComments").style.color="green";
        document.getElementById("errorComments").style.fontSize="17px";

        document.getElementById("errorCommentsMessage").innerHTML = "";
    }//SecureToken: "cfe700a1-31a2-4ab2-859d-4fb93a1e9f99",
}




//General Function
function formValidate() {
    flag = 0;

    //Variables Initialization
    initVars();
    //Check the full name
    checkName();
    //Check the Email
    checkEmail();
    //Check the Text Area
    checkTextArea();
    
    if(flag > 0) {
        return false;
    }
    else {
        Email.send({
            SecureToken : "5d06563f-51de-4d4e-9fc2-0dc62931571a",
            To : 'pk.contact.acc@gmail.com',
            From : email,
            Subject : "Νέο μήνυμα από επισκέπτη!",
            Body : "Όνομα: " + fullName +
                    "Email: " + email +
                    "Σχόλια: " + textArea
        }).then(
            message => alert("Your message has been send successfully!")
        );
    }
}

